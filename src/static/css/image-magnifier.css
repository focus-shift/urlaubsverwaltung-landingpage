picture:has(img[data-magnifiable]) {
	/* magnifier icon on the bottom right of the image */
	/* without inline display it would on the most right which must not be the image */
	/* picture is a block element and fills whole width */
	display: inline-block;
}

img[data-magnifiable] {
	cursor: zoom-in;
}

*:not(dialog):has(> img[data-magnifiable]) {
	position: relative;
	&::after {
		pointer-events: none;
		content: "";
		background-color: #363636;
		mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWZ1bGxzY3JlZW4taWNvbiBsdWNpZGUtZnVsbHNjcmVlbiI+PHBhdGggZD0iTTMgN1Y1YTIgMiAwIDAgMSAyLTJoMiIvPjxwYXRoIGQ9Ik0xNyAzaDJhMiAyIDAgMCAxIDIgMnYyIi8+PHBhdGggZD0iTTIxIDE3djJhMiAyIDAgMCAxLTIgMmgtMiIvPjxwYXRoIGQ9Ik03IDIxSDVhMiAyIDAgMCAxLTItMnYtMiIvPjxyZWN0IHdpZHRoPSIxMCIgaGVpZ2h0PSI4IiB4PSI3IiB5PSI4IiByeD0iMSIvPjwvc3ZnPg==");
		mask-repeat: no-repeat;
		width: 2rem;
		height: 2rem;
		position: absolute;
		bottom: 0.25rem;
		right: 0.25rem;
	}
}

dialog.image-magnifier-dialog {
	opacity: 0;
	align-content: center;
	border: 4px solid black;
	border-radius: 6px;
	padding: 1rem;
	margin-inline: auto;
	margin-block: auto;
	width: 80vw;
	display: flex;
	justify-content: center;
	align-items: center;
	animation: fade-in 0.2s ease-out backwards;
}

dialog.image-magnifier-dialog--open {
	opacity: 1;
	animation: fade-in 0.2s ease-out forwards;
	&:focus {
		outline: none;
	}
	& img {
		cursor: zoom-out;
		margin: 0 auto !important;
		border-radius: 0 !important;
		max-width: 100%;
		width: 100%;
		height: auto;
		display: block;
		object-fit: contain;
	}
}

@media (width < 1000px) {
	dialog.image-magnifier-dialog--open {
		width: 90vw;
	}
}

@starting-style {
	dialog.image-magnifier-dialog--open {
		opacity: 0;
	}
}

@keyframes fade-in {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

dialog.image-magnifier-dialog::backdrop {
	background-color: rgb(0 0 0 / 0%);
	backdrop-filter: blur(0px);
	transition:
		backdrop-filter 0.2s,
		background-color 0.2s;
}

dialog.image-magnifier-dialog--open::backdrop {
	background-color: rgb(0 0 0 / 30%);
	backdrop-filter: blur(2px);
}

@starting-style {
	dialog.image-magnifier-dialog--open::backdrop {
		background-color: rgb(0 0 0 / 0%);
		backdrop-filter: blur(0px);
	}
}
